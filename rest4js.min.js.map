{"version":3,"sources":["rest4js.min.js"],"names":["exports","define","amd","window","rest","version","UrlBuilder","template","this","__template","__scheme","__host","__port","__path","__query","Object","defineProperty","enumerable","seal","prototype","create","getParameters","value","setParameter","name","scheme","get","set","host","port","path","__value","query","toString","DataException","__name","__stack","__message","message","lines","i","tmp","navigator","userAgent","indexOf","Error","stack","split","length","push","trim","join","replace","error","msg","DataSource","options","__protocol","__timeout","protocol","timeout","IQueryTranslator","translate","freeze","QueryTranslator","url","OperationContext","__items","__error","__cancelled","items","___error","cancelled","IOperation","execute","parameters","callback","cancel","QueryOperation","__httpRequest","queryTranslator","XMLHttpRequest","method","open","onreadystatechange","readyState","bind","send","abort","BatchOperation","Query","__dataSource","__method","__headers","__content","__parameters","dataSource","headers","content","setDataSource","setMethod","setHeader","setContent","setParameters","setTimeout","save","update","patch","del","Repository","arguments","document","post","put","params"],"mappings":"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","file":"rest4js.min.js","sourcesContent":["(function (exports) {\r\n\r\n  'use strict';\r\n\r\n  exports = exports || {};\r\n\r\n  if (typeof define === 'function' && define.amd) {\r\n    define(function(){ return exports; });\r\n  } else {\r\n    window.rest = exports;\r\n  }\r\n\r\n  if (!('version' in exports)) {\r\n    exports.version = '0.0.0';\r\n  }\r\n\r\n  var UrlBuilder = function (template) {\r\n    this.__template = null;\r\n    this.__scheme = null;\r\n    this.__host = null;\r\n    this.__port = null;\r\n    this.__path = null;\r\n    this.__query = null;\r\n    Object.defineProperty(this, '__template', { enumerable: false });\r\n    Object.defineProperty(this, '__scheme',{ enumerable: false });\r\n    Object.defineProperty(this, '__host', { enumerable: false });\r\n    Object.defineProperty(this, '__port', { enumerable: false });\r\n    Object.defineProperty(this, '__path', { enumerable: false });\r\n    Object.defineProperty(this, '__query', { enumerable: false });\r\n    Object.seal(this);\r\n  };\r\n  \r\n  UrlBuilder.prototype = Object.create(Object.prototype, {\r\n  \r\n    getParameters: {\r\n      value: function () {\r\n        // TODO: not implemented\r\n        return [];\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    setParameter: { \r\n      value: function (name, value) {\r\n        // TODO: not implemented\r\n        return this;\r\n      },\r\n      enumerable: true\r\n    },\r\n    \r\n    scheme: {\r\n      get: function () {\r\n        return this.__scheme;\r\n      },\r\n      set: function (value) {\r\n        this.__scheme = value;\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    host: {\r\n      get: function () {\r\n        return this.__host;\r\n      },\r\n      set: function (value) {\r\n        this.__host = value;\r\n      },\r\n      enumerable: true\r\n    },\r\n    \r\n    port: {\r\n      get: function () {\r\n        return this.__port;\r\n      },\r\n      set: function (value) {\r\n        this.__port = value;\r\n      },\r\n      enumerable: true\r\n    },\r\n    \r\n    path: {\r\n      get: function () {\r\n        return this.__path;\r\n      },\r\n      set: function (value) {\r\n        this.__value = value;\r\n      },\r\n      enumerable: true\r\n    },\r\n    \r\n    query: {\r\n      get: function () {\r\n        return this.__query;\r\n      },\r\n      set: function (value) {\r\n        this.__query = value;\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    toString: {\r\n      value: function () {\r\n  \t\t  return '[object UrlBuilder]';\r\n  \t  },\r\n      enumerable: true\r\n    }\r\n  \r\n  });\r\n  \r\n  Object.seal(UrlBuilder);\r\n  Object.seal(UrlBuilder.prototype);\r\n  \r\n  exports.UrlBuilder = UrlBuilder;\r\n\r\n  var DataException = function () {\r\r\n    this.__name = 'DataException';\r\r\n    this.__stack = null;\r\r\n    this.__message = message || \"A data exception has occurred.\";\r\r\n    var lines, i, tmp;\r\r\n    if ((typeof navigator !== 'undefined' && navigator.userAgent.indexOf('Chrome') !== -1) ||\r\r\n      (typeof navigator === 'undefined')) {\r\r\n      lines = new Error().stack.split('\\n');\r\r\n      if (lines && lines.length > 2) {\r\r\n        tmp = [];\r\r\n        for (i = 2; i < lines.length; i++) {\r\r\n          if (lines[i]) {\r\r\n            tmp.push(lines[i].trim());\r\r\n          }\r\r\n        }\r\r\n        this.stack = tmp.join('\\n');\r\r\n      }\r\r\n    } else if (typeof navigator !== 'undefined' && navigator.userAgent.indexOf('Firefox') !== -1) {\r\r\n      lines = new Error().stack.split('\\n');\r\r\n      if (lines && lines.length > 1) {\r\r\n        tmp = [];\r\r\n        for (i = 1; i < lines.length; i++) {\r\r\n          if (lines[i]) {\r\r\n            tmp.push('at ' + lines[i].trim().replace('@', ' (') + ')');\r\r\n          }\r\r\n        }\r\r\n        this.stack = tmp.join('\\n');\r\r\n      }\r\r\n    } else if (typeof navigator !== 'undefined' && navigator.userAgent.indexOf('Trident') !== -1) {\r\r\n      try {\r\r\n        throw new Error();\r\r\n      } catch (error) {\r\r\n        if ('stack' in error) {\r\r\n          lines = error.stack.split('\\n');\r\r\n          if (lines && lines.length > 2) {\r\r\n            tmp = [];\r\r\n            for (i = 2; i < lines.length; i++) {\r\r\n              if (lines[i]) {\r\r\n                tmp.push(lines[i].trim());\r\r\n              }\r\r\n            }\r\r\n            this.stack = tmp.join('\\n');\r\r\n          }\r\r\n        } else {\r\r\n          this.stack = '';\r\r\n        }\r\r\n      }\r\r\n    } else {\r\r\n      var error = new Error();\r\r\n      if ('stack' in error) {\r\r\n        this.stack = error.stack;\r\r\n      } else {\r\r\n        this.stack = '';\r\r\n      }\r\r\n    }\r\r\n    Object.defineProperty(this, '__name', { enumerable: false });\r\r\n    Object.defineProperty(this, '__message', { enumerable: false });\r\r\n    Object.defineProperty(this, '__stack', { enumerable: false });\r\r\n    Object.seal(this);\r\r\n  };\r\r\n  \r\r\n  DataException.prototype = Object.create(Object.prototype, {\r\r\n  \r\r\n    name: {\r\r\n      get: function () {\r\r\n        return this.__name;\r\r\n      },\r\r\n      set: function (value) {\r\r\n        this.__name = value;\r\r\n      },\r\r\n      enumerable: true\r\r\n    },\r\r\n  \r\r\n    message: {\r\r\n      get: function () {\r\r\n        return this.__message;\r\r\n      },\r\r\n      set: function (value) {\r\r\n        this.__message = value;\r\r\n      },\r\r\n      enumerable: true\r\r\n    },\r\r\n  \r\r\n    stack: {\r\r\n      get: function () {\r\r\n        return this.__stack;\r\r\n      },\r\r\n      set: function (value) {\r\r\n        this.__stack = value;\r\r\n      },\r\r\n      enumerable: true\r\r\n    },\r\r\n  \r\r\n    toString: {\r\r\n      value: function () {\r\r\n        var msg = this.name + ': ' + this.message;\r\r\n        if (this.stack) {\r\r\n          msg += '\\n\\t' + this.stack.replace(/\\n/g, '\\n\\t');\r\r\n        }\r\r\n        return msg;\r\r\n      },\r\r\n      enumerable: true\r\r\n    }\r\r\n  \r\r\n  });\r\r\n  \r\r\n  Object.seal(DataException);\r\r\n  Object.seal(DataException.prototype);\r\r\n  \r\r\n  exports.DataException = DataException;\r\n\r\n  // it has to have username and password fields\r\r\n  var DataSource = function (options) {\r\r\n  \tthis.__protocol = 'http';\r\r\n  \tthis.__host = 'localhost';\r\r\n  \tthis.__port = 80;\r\r\n  \tthis.__timeout = 30;\r\r\n  \tif (options && 'protocol' in options) {\r\r\n  \t\tthis.__protocol = options.protocol;\r\r\n  \t}\r\r\n  \tif (options && 'host' in options) {\r\r\n  \t\tthis.__host = options.host;\r\r\n  \t}\r\r\n  \tif (options && 'port' in options) {\r\r\n  \t\tthis.__port = options.port;\r\r\n  \t}\r\r\n  \tif (options && 'timeout' in options) {\r\r\n  \t\tthis.__timeout = options.timeout;\r\r\n  \t}\r\r\n  \tObject.defineProperty(this, '__protocol', { enumerable: false });\r\r\n  \tObject.defineProperty(this, '__host', { enumerable: false });\r\r\n  \tObject.defineProperty(this, '__port', { enumerable: false });\r\r\n  \tObject.defineProperty(this, '__timeout', { enumerable: false });\r\r\n    Object.seal(this);\r\r\n  };\r\r\n  \r\r\n  DataSource.prototype = Object.create(Object.prototype, {\r\r\n  \r\r\n  \tprotocol: {\r\r\n  \t\tget: function () {\r\r\n  \t\t\treturn this.__protocol;\r\r\n  \t\t},\r\r\n  \t\tset: function (value) {\r\r\n  \t\t\tthis.__protocol = value;\r\r\n  \t\t},\r\r\n  \t\tenumerable: true\r\r\n  \t},\r\r\n  \r\r\n  \thost: {\r\r\n  \t\tget: function () {\r\r\n  \t\t\treturn this.__host;\r\r\n  \t\t},\r\r\n  \t\tset: function (value) {\r\r\n  \t\t\tthis.__host = value;\r\r\n  \t\t},\r\r\n  \t\tenumerable: true\r\r\n  \t},\r\r\n  \r\r\n  \tport: {\r\r\n  \t\tget: function () {\r\r\n  \t\t\treturn this.__port;\r\r\n  \t\t},\r\r\n  \t\tset: function (value) {\r\r\n  \t\t\tthis.__port = value;\r\r\n  \t\t},\r\r\n  \t\tenumerable: true\r\r\n  \t},\r\r\n  \r\r\n  \ttimeout: {\r\r\n  \t\tget: function () {\r\r\n  \t\t\treturn this.__timeout;\r\r\n  \t\t},\r\r\n  \t\tset: function (value) {\r\r\n  \t\t\tthis.__timeout = value;\r\r\n  \t\t},\r\r\n  \t\tenumerable: true\r\r\n  \t},\r\r\n  \r\r\n    toString: {\r\r\n      value: function () {\r\r\n        return '[object DataSource]';\r\r\n      },\r\r\n      enumerable: true\r\r\n    }\r\r\n  \r\r\n  });\r\r\n  \r\r\n  Object.seal(DataSource);\r\r\n  Object.seal(DataSource.prototype);\r\r\n  \r\r\n  exports.DataSource = DataSource;\r\n\r\n  var IQueryTranslator  = Object.create(Object.prototype, {\r\n  \r\n    translate: {\r\n      value: function (query) {},\r\n      enumerable: true\r\n    },\r\n  \r\n    toString: {\r\n      value: function () {\r\n        return '[object IQueryTransltor]';\r\n      },\r\n      enumerable: true\r\n    }\r\n  \r\n  });\r\n  \r\n  Object.freeze(IQueryTranslator);\r\n  \r\n  exports.IQueryTranslator = IQueryTranslator;\r\n\r\n  var QueryTranslator = function () {\r\n    Object.seal(this);\r\n  };\r\n  \r\n  QueryTranslator.prototype = Object.create(Object.prototype, {\r\n  \r\n  \ttranslate: {\r\n  \t\tvalue: function (query) {\r\n        var url = null;\r\n        if (query) {\r\n          url = 'https://loaddex.logisticallabs.com/api';\r\n        }\r\n  \t\t\treturn url;\r\n  \t\t},\r\n  \t\tenumerable: true\r\n  \t},\r\n  \r\n    toString: {\r\n      value: function () {\r\n        return '[object QueryTranslator]';\r\n      },\r\n      enumerable: true\r\n    }\r\n  \r\n  });\r\n  \r\n  Object.seal(QueryTranslator);\r\n  Object.seal(QueryTranslator.prototype);\r\n  \r\n  exports.QueryTranslator = QueryTranslator;\r\n\r\n  var OperationContext = function () {\r\r\n    this.__items = {};\r\r\n    this.__error = null;\r\r\n    this.__cancelled = false;\r\r\n    Object.defineProperty(this, '__items', { enumerable: false });\r\r\n    Object.defineProperty(this, '__error', { enumerable: false });\r\r\n    Object.defineProperty(this, '__cancelled', { enumerable: false });\r\r\n    Object.seal(this);\r\r\n  };\r\r\n  \r\r\n  OperationContext.prototype = Object.create(Object.prototype, {\r\r\n  \r\r\n    items: {\r\r\n    \tget: function () {\r\r\n    \t  return this.__items;\r\r\n    \t},\r\r\n    \tset: function (value) {\r\r\n    \t  this.__items = value;\r\r\n    \t},\r\r\n    \tenumerable: true\r\r\n    },\r\r\n    \r\r\n    error: {\r\r\n    \tget: function () {\r\r\n    \t  return this.__error;\r\r\n    \t},\r\r\n    \tset: function (value) {\r\r\n    \t  this.___error = value;\r\r\n    \t}\r\r\n    },\r\r\n    \r\r\n    cancelled: {\r\r\n    \tget: function () {\r\r\n    \t  return this.__cancelled;\r\r\n    \t},\r\r\n    \tset: function (value) {\r\r\n    \t  this.__cancelled = value;\r\r\n    \t}\r\r\n    },\r\r\n  \t\r\r\n    toString: {\r\r\n      value: function () {\r\r\n        return '[object OperationContext]';\r\r\n      },\r\r\n      enumerable: true\r\r\n    }\r\r\n  \r\r\n  });\r\r\n  \r\r\n  Object.seal(OperationContext);\r\r\n  Object.seal(OperationContext.prototype);\r\r\n  \r\r\n  exports.OperationContext = OperationContext;\r\n\r\n  var IOperation = Object.create(Object.prototype, {\r\n  \r\n    execute: {\r\n      value: function (parameters, callback) {},\r\n      enumerable: true\r\n    },\r\n  \r\n    cancel: {\r\n      value: function () {},\r\n      enumerable: true\r\n    },\r\n  \r\n    toString: {\r\n      value: function () {\r\n        return '[object IOperation]';\r\n      },\r\n      enumerable: true\r\n    }\r\n  \r\n  });\r\n  \r\n  Object.freeze(IOperation);\r\n  \r\n  exports.IOperation = IOperation;\r\n\r\n  var QueryOperation = function () {\r\n    this.__httpRequest = null;\r\n    Object.seal(this);\r\n  };\r\n  \r\n  QueryOperation.prototype = Object.create(Object.prototype, {\r\n  \r\n    execute: {\r\n      value: function (parameters, callback) {\r\n        if (parameters && 'query' in parameters) {\r\n          var queryTranslator = new QueryTranslator();\r\n          this.__httpRequest = new XMLHttpRequest();\r\n          var method = parameters.query.method,\r\n              url = queryTranslator.translate(parameters.query);\r\n          this.__httpRequest.open(method, url, true);\r\n          this.__httpRequest.onreadystatechange = function () {\r\n            if (this.__httpRequest.readyState === 4) {\r\n              if (callback) {\r\n                callback();\r\n              }\r\n            }\r\n          }.bind(this);\r\n          this.__httpRequest.send();\r\n        } else if (callback) {\r\n          callback();\r\n        }\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    cancel: {\r\n      value: function () {\r\n        if (this.__httpRequest) {\r\n          this.__httpRequest.abort();\r\n        }\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    toString: {\r\n      value: function () {\r\n        return '[object QueryOperation]';\r\n      },\r\n      enumerable: true\r\n    }\r\n  \r\n  });\r\n  \r\n  Object.seal(QueryOperation);\r\n  Object.seal(QueryOperation.prototype);\r\n  \r\n  exports.QueryOperation = QueryOperation;\r\n\r\n  var BatchOperation = function () {\r\r\n    Object.seal(this);\r\r\n  };\r\r\n  \r\r\n  BatchOperation.prototype = Object.create(Object.prototype, {\r\r\n  \r\r\n    execute: {\r\r\n      value: function (parameters, callback) {\r\r\n        \r\r\n      },\r\r\n      enumerable: true\r\r\n    },\r\r\n  \r\r\n    cancel: {\r\r\n      value: function () {\r\r\n  \r\r\n      },\r\r\n      enumerable: true\r\r\n    },\r\r\n    \r\r\n    toString: {\r\r\n      value: function () {\r\r\n        return '[object BatchOperation]';\r\r\n      },\r\r\n      enumerable: true\r\r\n    }\r\r\n  \r\r\n  });\r\r\n  \r\r\n  Object.seal(BatchOperation);\r\r\n  Object.seal(BatchOperation.prototype);\r\r\n  \r\r\n  exports.BatchOperation = BatchOperation;\r\n\r\n  var Query = function () {\r\n    this.__dataSource = null;\r\n    this.__method = 'GET';\r\n    this.__headers = {};\r\n    this.__content = null;\r\n    this.__parameters = null;\r\n    this.__timeout = null;\r\n    Object.defineProperty(this, '__dataSource', { enumerable: false });\r\n    Object.defineProperty(this, '__method', { enumerable: false });\r\n    Object.defineProperty(this, '__headers', { enumerable: false });\r\n    Object.defineProperty(this, '__content', { enumerable: false });\r\n    Object.defineProperty(this, '__parameters', { enumerable: false });\r\n    Object.defineProperty(this, '__timeout', { enumerable: false });\r\n    Object.seal(this);\r\n  };\r\n  \r\n  Query.prototype = Object.create(Object.prototype, {\r\n  \r\n    dataSource: {\r\n      get: function () {\r\n        return this.__dataSource;\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    method: {\r\n      get: function () {\r\n        return this.__method;\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    headers: {\r\n      get: function () {\r\n        return this.__headers;\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    content: {\r\n      get: function () {\r\n        return this.__content;\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    timeout: {\r\n      get: function () {\r\n        return this.__timeout;\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    setDataSource: {\r\n      value: function (value) {\r\n        if (!value) {\r\n          throw new DataException(\"Parameter 'value' is not passed to the method 'setDataSource'\");\r\n        }\r\n        this.__dataSource = value;\r\n        return this;\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    setMethod: {\r\n      value: function (value) {\r\n        if (!value) {\r\n          throw new DataException(\"Parameter 'value' is not passed to the method 'setMethod'\");\r\n        }\r\n        this.__method = value;\r\n        return this;\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    setHeader: {\r\n      value: function (name, value) {\r\n        if (!name) {\r\n          throw new DataException(\"Parameter 'name' is not passed to the method 'setHeader'\");\r\n        }\r\n        this.__headers[name] = value;\r\n        return this;\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    setContent: {\r\n      value: function (content) {\r\n        this.__content = content;\r\n        return this;\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    setParameters: {\r\n      value: function (parameters) {\r\n        if (parameters) {\r\n          this.__parameters = parameters;\r\n        }\r\n        return this;\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    setTimeout: {\r\n      value: function (timeout) {\r\n        this.__timeout = timeout;\r\n        return this;\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    get: {\r\n      value: function () {\r\n        return this.setMethod('GET');\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    save: {\r\n      value: function () {\r\n        return this.setMethod('POST');\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    update: {\r\n      value: function () {\r\n        return this.setMethod('PUT');\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    patch: {\r\n      value: function () {\r\n        return this.setMethod('PATCH');\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    del: {\r\n      value: function () {\r\n        return this.setMethod('DELETE');\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    execute: {\r\n      value: function (callback) {\r\n        return new QueryOperation()\r\n          .execute({\r\n            query: this\r\n          }, callback);\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    toString: {\r\n      value: function () {\r\n        return '[object Query]';\r\n      },\r\n      enumerable: true\r\n    }\r\n  \r\n  });\r\n  \r\n  Object.seal(Query);\r\n  Object.seal(Query.prototype);\r\n  \r\n  exports.Query = Query;\r\n\r\n  var Repository = function (options) {\r\n    this.__dataSource = null;\r\n    this.__path = null;\r\n    if (options && 'dataSource' in options) {\r\n      this.__dataSource = options.dataSource;\r\n    }\r\n    if (options && 'path' in options) {\r\n      this.__path = options.path;\r\n    }\r\n    Object.defineProperty(this, '__dataSource', { enumerable: false });\r\n    Object.defineProperty(this, '__path', { enumerable: false });\r\n    Object.seal(this);\r\n  };\r\n  \r\n  Repository.prototype = Object.create(Object.prototype, {\r\n  \r\n    dataSource: {\r\n      get: function () {\r\n        return this.__dataSource;\r\n      },\r\n      set: function (value) {\r\n        this.__dataSource = value;\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    path: {\r\n      get: function () {\r\n        return this.__path;\r\n      },\r\n      set: function (value) {\r\n        this.__path = value;\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    // TODO: rename to 'find'...\r\n    get: {\r\n      value: function (parameters, callback) {\r\n        if (arguments.length === 1) {\r\n          callback = parameters;\r\n          parameters = null;\r\n        }\r\n        return this\r\n          .query()\r\n            .get()\r\n              .setParameters(parameters)\r\n              .execute(callback);\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    save: {\r\n      value: function (parameters, document, callback) {\r\n        return this\r\n          .query()\r\n            .post()\r\n              .setParameters(parameters)\r\n              .execute(callback);\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    update: {\r\n      value: function (parameters, document, callback) {\r\n        return this\r\n          .query()\r\n            .put()\r\n              .setParameters(parameters)\r\n              .execute(callback);\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    patch: {\r\n      value: function (parameters, document, callback) {\r\n        return this\r\n          .query()\r\n            .patch()\r\n              .setParameters(parameters)\r\n              .execute(callback);\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    del: {\r\n      value: function (params, callback) {\r\n        return this\r\n          .query()\r\n            .del()\r\n              .setParameters(params)\r\n              .execute(callback);\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    query: {\r\n      value: function () {\r\n        return new Query()\r\n          .setDataSource(this.dataSource);\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    toString: {\r\n      value: function () {\r\n        return '[object Repository]';\r\n      },\r\n      enumerable: true\r\n    }\r\n  \r\n  });\r\n  \r\n  Object.seal(Repository);\r\n  Object.seal(Repository.prototype);\r\n  \r\n  exports.Repository = Repository;\r\n\r\n} (window.rest));"],"sourceRoot":"/source/"}