{"version":3,"sources":["rest4js.js"],"names":["exports","define","amd","window","rest","version","DataException","this","__name","__stack","__message","message","lines","i","tmp","navigator","userAgent","indexOf","Error","stack","split","length","push","trim","join","replace","error","Object","defineProperty","enumerable","seal","prototype","create","name","get","set","value","toString","msg","DataSource","IOperation","execute","parameters","callback","cancel","freeze","QueryOperation","BatchOperation","Query","__method","__headers","__content","method","headers","content","setMethod","setHeader","setContent","save","update","patch","del","Repository","__dataSource","dataSource","params","query","setParameters","document","post","put","setDataSource"],"mappings":"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","file":"rest4js.js","sourcesContent":["(function (exports) {\r\n\r\n  'use strict';\r\n\r\n  exports = exports || {};\r\n\r\n  if (typeof define === 'function' && define.amd) {\r\n    define(function(){ return exports; });\r\n  } else {\r\n    window.rest = exports;\r\n  }\r\n\r\n  if (!('version' in exports)) {\r\n    exports.version = '0.0.0';\r\n  }\r\n\r\n  var DataException = function () {\r\n    this.__name = 'DataException';\r\n    this.__stack = null;\r\n    this.__message = message || \"A data exception has occurred.\";\r\n    var lines, i, tmp;\r\n    if ((typeof navigator !== 'undefined' && navigator.userAgent.indexOf('Chrome') !== -1) ||\r\n      (typeof navigator === 'undefined')) {\r\n      lines = new Error().stack.split('\\n');\r\n      if (lines && lines.length > 2) {\r\n        tmp = [];\r\n        for (i = 2; i < lines.length; i++) {\r\n          if (lines[i]) {\r\n            tmp.push(lines[i].trim());\r\n          }\r\n        }\r\n        this.stack = tmp.join('\\n');\r\n      }\r\n    } else if (typeof navigator !== 'undefined' && navigator.userAgent.indexOf('Firefox') !== -1) {\r\n      lines = new Error().stack.split('\\n');\r\n      if (lines && lines.length > 1) {\r\n        tmp = [];\r\n        for (i = 1; i < lines.length; i++) {\r\n          if (lines[i]) {\r\n            tmp.push('at ' + lines[i].trim().replace('@', ' (') + ')');\r\n          }\r\n        }\r\n        this.stack = tmp.join('\\n');\r\n      }\r\n    } else if (typeof navigator !== 'undefined' && navigator.userAgent.indexOf('Trident') !== -1) {\r\n      try {\r\n        throw new Error();\r\n      } catch (error) {\r\n        if ('stack' in error) {\r\n          lines = error.stack.split('\\n');\r\n          if (lines && lines.length > 2) {\r\n            tmp = [];\r\n            for (i = 2; i < lines.length; i++) {\r\n              if (lines[i]) {\r\n                tmp.push(lines[i].trim());\r\n              }\r\n            }\r\n            this.stack = tmp.join('\\n');\r\n          }\r\n        } else {\r\n          this.stack = '';\r\n        }\r\n      }\r\n    } else {\r\n      var error = new Error();\r\n      if ('stack' in error) {\r\n        this.stack = error.stack;\r\n      } else {\r\n        this.stack = '';\r\n      }\r\n    }\r\n    Object.defineProperty(this, '__name', { enumerable: false });\r\n    Object.defineProperty(this, '__message', { enumerable: false });\r\n    Object.defineProperty(this, '__stack', { enumerable: false });\r\n    Object.seal(this);\r\n  };\r\n  \r\n  DataException.prototype = Object.create(Object.prototype, {\r\n  \r\n    name: {\r\n      get: function () {\r\n        return this.__name;\r\n      },\r\n      set: function (value) {\r\n        this.__name = value;\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    message: {\r\n      get: function () {\r\n        return this.__message;\r\n      },\r\n      set: function (value) {\r\n        this.__message = value;\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    stack: {\r\n      get: function () {\r\n        return this.__stack;\r\n      },\r\n      set: function (value) {\r\n        this.__stack = value;\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    toString: {\r\n      value: function () {\r\n        var msg = this.name + ': ' + this.message;\r\n        if (this.stack) {\r\n          msg += '\\n\\t' + this.stack.replace(/\\n/g, '\\n\\t');\r\n        }\r\n        return msg;\r\n      },\r\n      enumerable: true\r\n    }\r\n  \r\n  });\r\n  \r\n  Object.seal(DataException);\r\n  Object.seal(DataException.prototype);\r\n  \r\n  exports.DataException = DataException;\r\n\r\n  var DataSource = function () {\r\n    Object.seal(this);\r\n  };\r\n  \r\n  DataSource.prototype = Object.create(Object.prototype, {\r\n  \r\n    toString: {\r\n      value: function () {\r\n        return '[object DataSource]';\r\n      },\r\n      enumerable: true\r\n    }\r\n  \r\n  });\r\n  \r\n  Object.seal(DataSource);\r\n  Object.seal(DataSource.prototype);\r\n  \r\n  exports.DataSource = DataSource;\r\n\r\n  var IOperation = Object.create(Object.prototype, {\r\n  \r\n    execute: {\r\n      value: function (parameters, callback) {},\r\n      enumerable: true\r\n    },\r\n  \r\n    cancel: {\r\n      value: function () {},\r\n      enumerable: true\r\n    },\r\n  \r\n    toString: {\r\n      value: function () {\r\n        return '[object IOperation]';\r\n      },\r\n      enumerable: true\r\n    }\r\n  \r\n  });\r\n  \r\n  Object.freeze(IOperation);\r\n  \r\n  exports.IOperation = IOperation;\r\n\r\n  var QueryOperation = function () {\r\n    Object.seal(this);\r\n  };\r\n  \r\n  QueryOperation.prototype = Object.create(Object.prototype, {\r\n  \r\n    execute: {\r\n      value: function (parameters, callback) {\r\n        \r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    cancel: {\r\n      value: function () {\r\n  \r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    toString: {\r\n      value: function () {\r\n        return '[object QueryOperation]';\r\n      },\r\n      enumerable: true\r\n    }\r\n  \r\n  });\r\n  \r\n  Object.seal(QueryOperation);\r\n  Object.seal(QueryOperation.prototype);\r\n  \r\n  exports.QueryOperation = QueryOperation;\r\n\r\n  var BatchOperation = function () {\r\r\n    Object.seal(this);\r\r\n  };\r\r\n  \r\r\n  BatchOperation.prototype = Object.create(Object.prototype, {\r\r\n  \r\r\n    execute: {\r\r\n      value: function (parameters, callback) {\r\r\n        \r\r\n      },\r\r\n      enumerable: true\r\r\n    },\r\r\n  \r\r\n    cancel: {\r\r\n      value: function () {\r\r\n  \r\r\n      },\r\r\n      enumerable: true\r\r\n    },\r\r\n    \r\r\n    toString: {\r\r\n      value: function () {\r\r\n        return '[object BatchOperation]';\r\r\n      },\r\r\n      enumerable: true\r\r\n    }\r\r\n  \r\r\n  });\r\r\n  \r\r\n  Object.seal(BatchOperation);\r\r\n  Object.seal(BatchOperation.prototype);\r\r\n  \r\r\n  exports.BatchOperation = BatchOperation;\r\n\r\n  var Query = function () {\r\n    this.__method = 'GET';\r\n    this.__headers = {};\r\n    this.__content = null;\r\n    Object.defineProperty(this, '__method', { enumerable: false });\r\n    Object.defineProperty(this, '__headers', { enumerable: false });\r\n    Object.defineProperty(this, '__content', { enumerable: false });\r\n    Object.seal(this);\r\n  };\r\n  \r\n  Query.prototype = Object.create(Object.prototype, {\r\n  \r\n    method: {\r\n      get: function () {\r\n        return this.__method;\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    headers: {\r\n      get: function () {\r\n        return this.__headers;\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    content: {\r\n      get: function () {\r\n        return this.__content;\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    setMethod: {\r\n      value: function (value) {\r\n        if (!value) {\r\n          throw new DataException(\"Parameter 'value' is not passed to the method 'setMethod'\");\r\n        }\r\n        this.__method = value;\r\n        return this;\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    setHeader: {\r\n      value: function (name, value) {\r\n        if (!name) {\r\n          throw new DataException(\"Parameter 'name' is not passed to the method 'setHeader'\");\r\n        }\r\n        this.__headers[name] = value;\r\n        return this;\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    setContent: {\r\n      value: function (content) {\r\n        this.__content = content;\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    get: {\r\n      value: function () {\r\n        return this.setMethod('GET');\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    save: {\r\n      value: function () {\r\n        return this.setMethod('POST');\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    update: {\r\n      value: function () {\r\n        return this.setMethod('PUT');\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    patch: {\r\n      value: function () {\r\n        return this.setMethod('PATCH');\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    del: {\r\n      value: function () {\r\n        return this.setMethod('DELETE');\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    toString: {\r\n      value: function () {\r\n        return '[object Query]';\r\n      },\r\n      enumerable: true\r\n    }\r\n  \r\n  });\r\n  \r\n  Object.seal(Query);\r\n  Object.seal(Query.prototype);\r\n  \r\n  exports.Query = Query;\r\n\r\n  var Repository = function () {\r\n    this.__dataSource = null;\r\n    Object.defineProperty(this, '__dataSource', { enumerable: false });\r\n    Object.seal(this);\r\n  };\r\n  \r\n  Repository.prototype = Object.create(Object.prototype, {\r\n  \r\n    dataSource: {\r\n      get: function () {\r\n        return this.__dataSource;\r\n      },\r\n      set: function (value) {\r\n        this.__dataSource = value;\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    get: {\r\n      value: function (params, callback) {\r\n        return this\r\n          .query()\r\n            .get()\r\n              .setParameters(params)\r\n              .execute(callback);\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    save: {\r\n      value: function (params, document, callback) {\r\n        return this\r\n          .query()\r\n            .post()\r\n              .setParameters(params)\r\n              .execute(callback);\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    update: {\r\n      value: function (params, document, callback) {\r\n        return this\r\n          .query()\r\n            .put()\r\n              .setParameters(params)\r\n              .execute(callback);\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    patch: {\r\n      value: function (params, document, callback) {\r\n        return this\r\n          .query()\r\n            .patch()\r\n              .setParameters(params)\r\n              .execute(callback);\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    del: {\r\n      value: function (params, callback) {\r\n        return this\r\n          .query()\r\n            .del()\r\n              .setParameters(params)\r\n              .execute(callback);\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    query: {\r\n      value: function () {\r\n        return new Query()\r\n          .setDataSource(this.dataSource);\r\n      },\r\n      enumerable: true\r\n    },\r\n  \r\n    toString: {\r\n      value: function () {\r\n        return '[object Repository]';\r\n      },\r\n      enumerable: true\r\n    }\r\n  \r\n  });\r\n  \r\n  Object.seal(Repository);\r\n  Object.seal(Repository.prototype);\r\n  \r\n  exports.Repository = Repository;\r\n\r\n} (window.rest));"],"sourceRoot":"/source/"}